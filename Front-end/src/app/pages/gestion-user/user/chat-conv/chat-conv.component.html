<div class="chat-wrapper d-lg-flex gap-2 p-2 mb-3 bg-white rounded shadow-sm">
  <!-- Sidebar Menu -->
  <div class="chat-wrapper-menu p-3 d-flex flex-column rounded bg-light align-items-center">
    <div class="mb-4 position-relative d-none d-lg-block">
      <a href="javascript:void(0);">
        <img src="{{currentUser.image}}" alt="" class="avatar-sm rounded-circle">
      </a>
      <span class="position-absolute top-0 start-100 translate-middle badge border border-light rounded-circle bg-success p-1">
        <span class="visually-hidden">unread messages</span>
      </span>
    </div>
    <ul class="chat-menu list-unstyled nav nav-pills flex-column text-center">
      <!-- Chat Icon -->
      <li class="nav-item" placement="right" tooltip="Chats" [class.active]="currentTab === 'chats'" (click)="changeTab('chats')">
        <a href="javascript:void(0);" class="nav-link active">
          <i class="bi bi-chat-dots fs-5"></i>
        </a>
      </li>

    </ul>
  </div>

  <!-- Left Sidebar -->
  <div class="chat-leftsidebar flex-grow-1 border-start border-end bg-white">
    <div class="tab-content">
      <!-- Chat Section -->
      <div [hidden]="!isChatVisible" class="tab-pane show active" id="pills-chats">
        <div class="p-3 border-bottom">
          <div class="d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Chats</h5>
          </div>
          <div class="mt-3">
            <div class="input-group">
              <input type="text" class="form-control bg-light border-light" placeholder="Search here...">
              <span class="input-group-text bg-light border-light"><i class="ri-search-2-line"></i></span>
            </div>
          </div>
        </div>
        <div class="chat-room-list  p-3">
          <div class="chat-message-list">
            <app-user-list [users]="users" (userSelected)="selectUser($event)"></app-user-list>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- User Chat -->
  <div class="user-chat w-100 d-flex flex-column">
  
    <div class="chat-content flex-grow-1 h-100">
      <div *ngIf="selectedUser; else selectUserPrompt">
        <app-conversation [user]="selectedUser"></app-conversation>
      </div>
      <ng-template #selectUserPrompt>
        <div class="d-flex flex-column align-items-center justify-content-center h-100 text-muted">
          <div class="text-center">
            <div class="avatar-xl mx-auto mb-3">
              <div class="avatar-title bg-light text-primary rounded-circle d-flex justify-content-center align-items-center" style="width: 80px; height: 80px;">
                <i class="bi bi-person-plus fs-1"></i>
              </div>
            </div>
            <h5>Select a chat</h5>
            <p class="mb-0">Choose a contact to start chatting</p>
          </div>
        </div>
      </ng-template>
    </div>
  </div>
</div>